---
title: "第一章 计算机网络体系结构"
date: 2024-09-28 17:47:00 +0800
categories: ["408", 计算机网络]
tags: ["408", 计算机网络]
---

## **1. 概述**

### **1.1 计算机网络的组成**

- **从组成部分看：**硬件、软件、协议
- **从工作方式看：**
  - **边缘部分：**供用户直接使用的主机
  - **核心部分：**大量网络和路由器，为边缘部分提供服务

### **1.2 电路交换、报文交换、分组交换**

- **电路交换（物理连接）**
  - **关键词：**物理通信路径，独占路径，直达终点
  - **通信步骤：**建立连接、数据传输、释放连接
  - **优缺点：**
    - **优点：**延迟小（实时性强），没有冲突，有序传输，不需要转发
    - **缺点**：建立连接时间长，线路利用率低，不灵活，无差错控制

- **报文（message）交换**
  - **关键词**：存储-转发，每次需要接收存储**整个报文**再转发
  - **优缺点：**
    - **优点：**无需建立连接，动态分配线路，线路利用率高，多目标服务
    - **缺点：**转发时延高，缓存开销大，错误处理低效
  
- **分组交换**

  - **关键词：**存储-转发，将报文划分成组（packet），每个组有自己的首部
  - **优缺点：**
    - **相较于报文而言：**简化了存储管理，减少出错概率和重发数据量
    - **缺点：**存在存储转发时延，需要传输更多的额外信息，**分组可能丢失/失序/重复**


### **1.3 计算机网络的分类**

- **按传输技术分类：**广播式网络，点对点网络
- **按拓扑结构分类：**
    - **总线形：**重负载时利用率不高，总线任意一处对故障敏感
    - **星形：**便于集中控制，中央设备对故障敏感
    - **环形：**令牌环局域网，环中信号单向传输
    - **网状：**可靠性高，控制复杂，线路成本高

### **1.4 计算机网络的性能指标**

- 速率（Speed）：数字信道上传送数据的速率
- 带宽（Bandwidth）：数字信道的最高数据传输速率
- 吞吐量（Throughput）：单位时间内通过某个结点的实际数据量
- **时延（Delay）：**数据从一段传输到另一段的总时间
  - **发送时延：**结点将所有比特推向链路的时间
  - **传播时延：**电磁波在介质中传输的时间
  - **处理时延：**交换节点的存储和转发所花费的时间
  - **排队时延：**数据在交换节点等待转发的时间
- 时延带宽积：发送端的第一个比特到达终点时，发送端已发送的比特数量，可以理解成**链路可以容纳的比特数量**。`时延带宽积=传播时延*信道带宽`
- **往返时延（Round-Trip Time，RTT）：**一个短分组从**发出**到**收到接收端确认**经历的时延。
- 信道利用率：`有数据通过的时间/总时间`

## **2. 计算机网络的体系结构与参考模型**

### **2.1 分层**

- **原则：**
  - 每层都实现相对独立的功能
  - 各层之间通过接口通信
  - **上层单向地使用下层提供的服务** 
- **层次结构的含义：**
  - 各层使用下一层提供的接口实现自身的功能，还要向上提供服务，该服务是第n蹭及以下各层提供的服务总和
  - 最低层只提供服务，最高层面向用户提供服务
  - 上一层不能调用下一层以外层的服务
  - 两台主机在通信时，**逻辑上有一个直接信道，表现为能将数据直接发送给对方**
- **协议数据单元（Protocol Data Unit，PDU）**
  - 数据服务单元（SDU）：为完成用户所需功能而传输的数据
  - 协议控制信息（PCI）：控制协议操作的信息
  - **各层的PDU都有一个俗称：**
    - 物理层————**比特流**
    - 数据链路层——**帧**
    - 网络层————**分组**
    - 传输层————**报文段**

### **2.2 协议、接口、服务**

- **协议：**
  - **语法：**数据与控制信息的格式
  - **语义：**控制信息、动作和应答的内容
  - **同步/时序：**执行操作的条件、时序关系
- **接口：**相邻两层间交换信息的逻辑接口
- **服务：**下层为上层提供的功能调用
  - **面向连接服务与无连接服务：**取决于通信前双方**是否需要先建立连接**并分配资源（TCP面向连接，UDP和IP无连接）
  - **可靠服务与不可靠服务：**取决于是否具有纠错、检错、应答等机制；
  - **有应答服务与无应答服务：**取决于接收方收到数据后是否需要应答（www是无应答服务）

### **2.3 🌟ISO/OSI模型、TCP/IP模型**

<table>
	<tr align="center">
		<th align="center">OSI模型</th>
		<th align="center">TCP/IP模型</th>
		<th align="center">计网五层模型</th>
	</tr>
	<tr>
		<td align="center">应用层</td>
		<td align="center" rowspan="3">应用层</td>
		<td align="center" rowspan="3">应用层</td>
	</tr>
	<tr>
		<td align="center">表示层</td>
	</tr>
	<tr>
		<td align="center">会话层</td>
	</tr>
	<tr>
		<td align="center">传输层</td>
		<td align="center">传输层</td>
		<td align="center">传输层</td>
	</tr>
	<tr>
		<td align="center">网络层</td>
		<td align="center">网际层</td>
		<td align="center">网络层</td>
	</tr>
	<tr>
		<td align="center">数据链路层</td>
		<td align="center" rowspan="2">网络接口层</td>
		<td align="center">数据链路层</td>
	</tr>
	<tr>
		<td align="center">物理层</td>
		<td align="center">物理层</td>
	</tr>
</table>

**OSI模型：**

- **物理层：**在物理介质上为数据端设备透明地传输原始**比特**流
- **数据链路层：**将网络层收到的IP分组封装成**帧**，并**可靠**地实现**点到点（IP/MAC之间）**的通信，将可能出错的物理连接改造成**逻辑上无差错的数据链路**
- **网络层：**将**数据报**从源节点传输到目的节点。对分组进行：**路由选择**并进行**流量控制**、**拥塞控制**、**差错控制**等功能（IP、ICMP、IGMP、ARP、RARP、RIP等）
- **传输层：**提供**端到端（进程之间）**的**可靠**的传输服务，提供**流量控制**、**差错控制**、**数据传输管理**等（UDP、TCP）
- **会话层：**为用户进程建立连接，并在连接上有序地传输数据
- **表示层：**处理不同通信系统中交换信息的表示方式（翻译、数据压缩、加解密等）
- **应用层：**为网络应用提供访问OSI参考模型环境的手段（SMTP、FTP、HTTP等）

**TCP/IP模型：**

- **网络接口层：**以某种形式与网络连接，从而传输IP分组
- **网际层：**将分组发向任何网络，并为其独立地选择合适的路由，但**不保证有序到达**，分组的有序和可靠交付由上级高层负责
- **传输层：**完成端到端的会话，
  - **TCP：**面向连接，传输时先建立连接，提供可靠的交付，单位是**报文段**
  - **UDP：**无连接，不提供可靠的交付，单位是**用户数据段**
- **应用层：**包含所有高层协议（Telent、FTP、DNS、SMTP、HTTP等）
